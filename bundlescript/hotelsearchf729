var tphs=function(n){return n.oneDay=864e5,n.settings={numberOfMonths:2,daysToAdd:"2",defaultDays:"7",changeMonth:!1,changeYear:!1,yearRange:"-0:+20"},n.hotelSearchOnLoad=function(){for(var r,u,t=1;t<=90;t++)$("#ddlHtlNights").append("<option value="+t.toString()+">"+t.toString()+"<\/option>");$("#ddlHtlNights").val(n.settings.daysToAdd);r=$.extend({},$.datepicker.regional[tpc.companySettings.calendarLanguageCode],{numberOfMonths:n.settings.numberOfMonths===2?window.screen.availWidth<650?1:2:n.settings.numberOfMonths,dateFormat:tpc.companySettings.calendarFormat,changeMonth:n.settings.changeMonth,changeYear:n.settings.changeYear,yearRange:"-0:+20",minDate:new Date,onSelect:function(t,i){var u={},r={},f={},e={},o={},s;$("#"+i.id).attr("data-dt-from")===""?(r=$("#"+i.id).attr("data-dt-to"),s=($(r).datepicker("getDate")-$("#"+i.id).datepicker("getDate"))/864e5,($(r).val()===""||$("#"+i.id).datepicker("getDate")>=$(r).datepicker("getDate")||s>10)&&(d=$("#"+i.id).datepicker("getDate"),d.setDate(d.getDate()+parseInt(n.settings.daysToAdd)),$(r).datepicker("setDate",d)),u="#"+i.id,f=$(u).datepicker("getDate"),e=$(r).datepicker("getDate"),o=(e.getTime()-f.getTime())/n.oneDay,$("#ddlHtlNights").val(o),typeof setDayOfWeekHotel_Company=="function"&&setDayOfWeekHotel_Company(r)):(u=$("#"+i.id).attr("data-dt-from"),r="#"+i.id,f=$(u).datepicker("getDate"),e=$(r).datepicker("getDate"),o=(e.getTime()-f.getTime())/n.oneDay,$("#ddlHtlNights").val(o));typeof setDayOfWeekHotel_Company=="function"&&setDayOfWeekHotel_Company(this)},beforeShow:function(n){var t,i=new Date,r;return i=i.getFullYear()+1,r=i%4||i%400?"+366D":"+365D",$("#"+n.id).attr("data-dt-from")===""?t=new Date:(t=new Date($($("#"+n.id).attr("data-dt-from")).datepicker("getDate")),t.setDate(t.getDate()+1)),t?{minDate:t,maxDate:r}:void 0}});$(".htl-cal").datepicker(r);$(".htl-cal[data-dt-from]").each(function(){var t=new Date,i;$(this).attr("data-dt-from")===""?(t.setDate(t.getDate()+parseInt(n.settings.defaultDays)),$(this).datepicker("setDate",t)):(i=$(this).attr("data-dt-from"),t=$(i).datepicker("getDate"),t.setDate(t.getDate()+parseInt(n.settings.daysToAdd)),$(this).datepicker("setDate",t))});$("input[id*=txtHtlCity]").click(function(){$(this).attr("data-prev-value",$(this).val()).val("")});$("input[id*=txtHtlCity]").blur(function(){$(this).val()===""&&$(this).val($(this).attr("data-prev-value"))});$("#txtHtlCity").keydown(function(){$(this).attr("data-ac-value","")}).devbridgeAutocomplete({serviceUrl:"/static/hotelcities",type:"GET",paramName:"q",dataType:"json",params:{lang:function(){return tpc.userSettings.cultureCode.split("-")[0]}},transformResult:function(n){return{suggestions:$.map(n.Items,function(n){return{value:n.Item.split("~")[0],data:{category:"Cities",value:n.Item.split("~")[1]}}})}},ajaxSettings:{beforeSend:function(){}},groupBy:"category",minChars:"3",onSelect:function(n){n.data.value!=="0"&&$("#txtHtlCity").val(n.value).attr("data-ac-value",n.data.value)}});$("[data-tp-room-action]").click(function(){var t=$(this).attr("data-tp-room-action"),n=Number($("#ddlHtlRoom").val());t=="add"?n<4&&$("#ddlHtlRoom").val(++n).change():n>1&&$("#ddlHtlRoom").val(--n).change()});$("#btnSearchHtl").click(function(){var r=tphs.validateHtl(),n,t,i;if(r){for(tpc.htlRequestObject.Rooms.Room=[],tpc.htlRequestObject.Stay.Nationality=tpc.companySettings.nationality,tpc.htlRequestObject.Stay.CityName=$("#txtHtlCity").attr("data-ac-value").split("#")[0],tpc.htlRequestObject.Stay.CountryName=$("#txtHtlCity").attr("data-ac-value").split("#")[1],tpc.htlRequestObject.Stay.CityCode=$("#txtHtlCity").attr("data-ac-value").split("#")[2],tpc.htlRequestObject.Stay.CountryCode=$("#txtHtlCity").attr("data-ac-value").split("#")[3],tpc.htlRequestObject.Stay.CheckIn=tpc.formatDate($("#txtHtlDD").datepicker("getDate")),tpc.htlRequestObject.Stay.CheckOut=tpc.formatDate($("#txtHtlAD").datepicker("getDate")),tpc.htlRequestObject.Stay.Nights=$("#ddlHtlNights").val(),tpc.htlRequestObject.Filters.HotelName=$("#txtHtlName").val()!=="undefined"?$("#txtHtlName").val():"",tpc.htlRequestObject.Filters.StarRatingUI=$("#ddlStar").val(),n=0;n<Number($("#ddlHtlRoom").val());n++){if(t={Occupancy:{NoAdults:"",NoChildren:""}},t.Occupancy.NoAdults=$("#ddlHtlAdultR"+(n+1)).val(),t.Occupancy.NoChildren=$("#ddlHtlChildR"+(n+1)).val(),Number($("#ddlHtlChildR"+(n+1)).val())>0)for(t.Occupancy.ChildAges={ChildAge:[]},i=0;i<Number($("#ddlHtlChildR"+(n+1)).val());i++)t.Occupancy.ChildAges.ChildAge.push($("#ddlHtlChildAge"+(i+1)+"R"+(n+1)).val());tpc.htlRequestObject.Rooms.Room.push(t)}tpc.hitHtlSearch()}});localStorage.getItem("htlrequest")!=null&&localStorage.getItem("htlrequest")!=""&&(u=JSON.parse(localStorage.getItem("htlrequest")),n.fillSearchHtl(u));$("#ddlHtlRoom, [id^=ddlHtlAdultR], [id^=ddlHtlChildR]").change(function(){var n="",i=0,r=0;for(t=1;t<=Number($("#ddlHtlRoom").val());t++)i+=Number($("#ddlHtlAdultR"+t).val()),r+=Number($("#ddlHtlChildR"+t).val()),$(".ddl-val",$("[data-field='#ddlHtlAdultR"+t+"']")).html($("#ddlHtlAdultR"+t).val()),$(".ddl-val",$("[data-field='#ddlHtlChildR"+t+"']")).html($("#ddlHtlChildR"+t).val());typeof tphs.passengerInfoCompanyWise=="function"?n=tphs.passengerInfoCompanyWise(i,r):(n+="<span class='fl'>"+(i+r)+"<\/span><span class='fl'>&nbsp;<\/span><span class='fl'>"+(i+r>1?"Guests":"Guest")+"<\/span><span class='fl'>&nbsp;-&nbsp;<\/span>",n+="<span class='fl'>"+$("#ddlHtlRoom").val()+"<\/span><span class='fl'>&nbsp;<\/span><span class='fl'>"+($("#ddlHtlRoom").val()=="1"?"Room":"Rooms")+"<\/span>");$("#txtPax").html(n);Number($("#ddlHtlRoom").val())==1?$("[data-tp-room-action='remove']").hide():$("[data-tp-room-action='remove']").show();Number($("#ddlHtlRoom").val())==4?$("[data-tp-room-action='add']").hide():$("[data-tp-room-action='add']").show()});$("#ddlHtlRoom").change();$(document).ready(function(){$(".humbersMenus").click(function(){$("#main-menu").addClass("active_menu")});$(".close_menu").click(function(){$("#main-menu").removeClass("active_menu")})});$(document).ready(function(){$(".show_mapMobile").click(function(){$(".mapWrapbox").addClass("active_map")});$(".close_maps").click(function(){$(".mapWrapbox").removeClass("active_map")})});const f=document.querySelector(".list_viewPort"),e=document.querySelector(".grid_viewPort"),i=document.querySelector(".service_listWrapper");f!==null&&(f.onclick=function(){i.classList.remove("grid_viewFilter");i.classList.add("list_ViewFilter")});e!==null&&(e.onclick=function(){i.classList.remove("list_ViewFilter");i.classList.add("grid_viewFilter")})},n.changeChild=function(n){var i=$("#ddlHtlChildR"+n).val(),t;for($("#tdHtlch1R"+n).css({display:"none"}),$("#tdHtlch2R"+n).css({display:"none"}),t=1;t<=i;t++)$("#tdHtlch"+t+"R"+n).css({display:""})},n.changeRoom=function(){var i=$("#ddlHtlRoom").val(),t;for($("[id*=trHtlR]").css({display:"none"}),$("[id*=tdHtlch]").css({display:"none"}),t=1;t<=i;t++)$("#trHtlR"+t).css({display:""}),n.changeChild(t)},n.validateHtl=function(){try{var n=!0,t="";return $.notify.defaults({position:"top center",className:"error"}),($("#txtHtlCity").val()===""||$("#txtHtlCity").attr("data-ac-value")==="")&&($("#txtHtlCity").notify(tpvm.messages.pleaseselectdestination),n=!1,t="#txtHtlCity"),($("#txtHtlDD").val()===""||$("#txtHtlDD").datepicker("getDate")===null)&&($("#txtHtlDD").notify(tpvm.messages.validcheckindate),n=!1,t="#txtHtlDD"),($("#txtHtlAD").val()===""||$("#txtHtlAD").datepicker("getDate")===null)&&($("#txtHtlAD").notify(tpvm.messages.validcheckoutdate),n=!1,t="#txtHtlAD"),n||$("html, body").animate({scrollTop:$(t).offset().top-50},1e3),n&&typeof tphs.validateHtlCompanyWise=="function"&&(n=tphs.validateHtlCompanyWise()),n}catch(i){return console.log(i.stack),!1}},n.fillSearchHtl=function(t){var u,f;try{if(t!==undefined){var e=new Date,i=t.Stay.CheckIn.split("-"),r=new Date(i[0],Number(i[1])-1,i[2]);i=t.Stay.CheckOut.split("-");u=new Date(i[0],Number(i[1])-1,i[2]);e<=r&&($("#txtHtlDD").datepicker("setDate",r),$("#txtHtlAD").datepicker("setDate",u));f=(u.getTime()-r.getTime())/n.oneDay;$("#ddlHtlNights").val(f);$("#txtHtlCity").val(t.Stay.CityName+", "+t.Stay.CountryName).attr("data-ac-value",t.Stay.CityName+"#"+t.Stay.CountryName+"#"+t.Stay.CityCode+"#"+t.Stay.CountryCode+"#0");/hoteldeal/.test(window.location.href)||$("#txtHtlName").val(t.Filters.HotelName);$("#ddlStar").val(t.Filters.StarRatingUI!==""?t.Filters.StarRatingUI:"0");$("#ddlHtlRoom").val(t.Rooms.Room.length).change();$.each(t.Rooms.Room,function(n,t){$("#ddlHtlAdultR"+(n+1)).val(t.Occupancy.NoAdults);$("#ddlHtlChildR"+(n+1)).val(t.Occupancy.NoChildren);for(var i=0;i<Number(t.Occupancy.NoChildren);i++)$("#ddlHtlChildAge"+(i+1)+"R"+(n+1)).val(t.Occupancy.ChildAges.ChildAge[i])})}}catch(o){console.log(o.stack)}},n}(tphs||{})